article.ly-section.vw-maintainer.de-host
  section.vw-maintainer-content.de-column
    h1.vw-title Link Submissions
    header.ar-actions
      a.ar-action.lk-icon.fa.fa-pencil-square-o(href='/weekly/submissions', aria-label='Create a new link submission')
    table.wur-container
      thead
        tr
          th
          th.tm-time-cell Created
          th.bg-badge-cell Type
          th Title
          th Status
          th Actions
      tbody
        each submission in submissions
          tr
            td.usr-avatar(data-label='Avatar')
              a.av-website(data-email='mailto:' + submission.email, target='_blank')
                img.av-avatar(src=submission.avatar, alt='')
            td.tm-time-cell(data-label='Created')
              time(datetime=submission.created.datetime, aria-label=submission.created.title)='On ' + submission.created.text
            td.bg-badge-cell(data-label='Type')
              span(class='bg-badge wur-type-' + submission.type)=submission.type
            td(data-label='Title')
              a.f-subheading.lk-rainbows.md-markdown.md-markdown-inline(href=submission.href, target=submission.target)!=submission.titleHtml
            td.wur-status(data-label='Status')=submission.status
            td.wur-buttons(data-label='Actions')
              if submission.status !== 'accepted'
                if submission.accepted
                  a.ar-button.lk-icon.fa.fa-check-square(href='/api/weeklies/submissions/' + submission.slug + '/accept', aria-label='Mark this link submission as accepted once again', data-taunus-ignore)
                else
                  a.ar-button.lk-icon.fa.fa-check-square-o(href='/api/weeklies/submissions/' + submission.slug + '/accept', aria-label='Mark this link submission as accepted', data-taunus-ignore)
              else
                a.ar-button.lk-icon.fa.fa-square(href='/api/weeklies/submissions/' + submission.slug + '/use', aria-label='Mark this link submission as used', data-taunus-ignore)
              a.ar-button.lk-icon.fa.fa-pencil(href='/weekly/submissions/' + submission.slug + '/edit', aria-label='Edit this link submission')
              a.ar-button.lk-icon.fa.fa-remove.wur-remove(aria-label='Delete this link submission', data-slug=submission.slug)

  include ../../partials/aside
