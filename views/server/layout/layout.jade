- notLean = leanLayout !== true
- themeColor = '#e92c6c'

//
  -

                                              ████████
                                              ████████
                                          ████████
                                          ████████
              ████████████    ████    ████████
              ████████████    ████    ████████
          ████████████████████████████████
          ████████████████████████████████
      ████████████████████████████████████
      ████████████████████████████████████
  ████████████████████████░░░░░░░░████████████
  ████████████████████████░░░░░░░░████████████
  ████████████████████████░░░░░░░░████████
  ████████████████████████░░░░░░░░████████
  ████████████████████████████████████████
  ████████████████████████████████████████
  ████████████████████████████████████████████
  ████████████████████████████████████████████
  ████████████████████████████████████████████
  ████████████████████████████████████████████
  ████████████████████████████████████████████
  ████████████████████████████    ████████████
  ████████████████████████████    ████████████
  ████████████████████████████████
  ████████████████████████████████
  ████████████████████████████████████
  ████████████████████████████████████

     – @nzgb

          very semver #{model.pkg.version}
doctype html
html(lang='en', itemscope, itemtype='http://schema.org/Blog', class='ua-' + ua)
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title=model.title

    //- https://mathiasbynens.be/notes/touch-icons#sizes
    link(rel='icon', sizes='192x192', href='/touch-icon-192x192.png')
    link(rel='apple-touch-icon', sizes='180x180', href='/apple-touch-icon-180x180.png')
    link(rel='apple-touch-icon', sizes='152x152', href='/apple-touch-icon-152x152.png')
    link(rel='apple-touch-icon', sizes='144x144', href='/apple-touch-icon-144x144.png')
    link(rel='apple-touch-icon', sizes='120x120', href='/apple-touch-icon-120x120.png')
    link(rel='apple-touch-icon', sizes='114x114', href='/apple-touch-icon-114x114.png')
    link(rel='apple-touch-icon', sizes='76x76', href='/apple-touch-icon-76x76.png')
    link(rel='apple-touch-icon', sizes='72x72', href='/apple-touch-icon-72x72.png')
    link(rel='apple-touch-icon', sizes='60x60', href='/apple-touch-icon-60x60.png')
    link(rel='apple-touch-icon', sizes='57x57', href='/apple-touch-icon-57x57.png')
    link(rel='apple-touch-icon', sizes='180x180', href='/apple-touch-icon.png')
    link(rel='apple-touch-icon-precomposed', sizes='180x180', href='/apple-touch-icon-precomposed.png')

    //- png favicons
    link(rel='icon', type='image/png', sizes='194x194', href='/favicon-194x194.png')
    link(rel='icon', type='image/png', sizes='96x96', href='/favicon-96x96.png')
    link(rel='icon', type='image/png', sizes='32x32', href='/favicon-32x32.png')
    link(rel='icon', type='image/png', sizes='16x16', href='/favicon-16x16.png')

    //- theme colors and corner-case icons
    meta(name='theme-color', content=themeColor)
    meta(name='apple-mobile-web-app-status-bar-style', content=themeColor)
    meta(name='msapplication-navbutton-color', content=themeColor)
    meta(name='msapplication-TileColor', content=themeColor)
    meta(name='msapplication-TileImage', content='/apple-touch-icon-144x144-precomposed.png')
    link(rel='icon', type='image/png', sizes='192x192', href='/android-chrome-192x192.png')
    link(rel='mask-icon', href='/mask-grayscale-512x512.min.svg', color=themeColor)

    link(rel='manifest', href='/manifest.json')
    meta(name='mobile-web-app-capable', content='yes')

    link(rel='alternate', type='application/rss+xml', href=rss)
    link(rel='search', type='application/opensearchdescription+xml', title='Pony Foo', href=model.authority + '/opensearch.xml')

    if model.meta.canonical
      link(rel='canonical', href!=model.authority + model.meta.canonical)

    meta(name='author', itemprop='creator', content!=founder.contact)

    if model.meta.keywords && model.meta.keywords.length
      meta(name='keywords', content=model.meta.keywords.join(','))

    meta(name='description', property='og:description', itemprop='description', content=model.meta.description)
    meta(property='og:site_name', content='Pony Foo')

    if model.meta.canonical
      meta(property='og:url', itemprop='url', content=model.authority + model.meta.canonical)

    meta(name='twitter:title', itemprop='name', property='og:title', content=model.title)
    meta(name='twitter:description', content=model.meta.description)
    meta(name='twitter:card', content='summary')
    meta(name='twitter:site', content='@ponyfoo')
    meta(name='twitter:creator', content=founder.twitter)

    each image, i in model.meta.images
      meta(property='og:image', itemprop=i === 0 && 'images', content=image)

    //- twitter only cares about the last meta image, repeat the cover
    if model.meta.images.length
      meta(name='twitter:image:src', content=model.meta.images[0])

    if model.inlineStyles
      style=model.inlineStyles.value
      script!=styleLoader
      noscript
        link(rel='stylesheet', type='text/css', href='/css/all.css')
    else
      link(rel='stylesheet', type='text/css', href='/css/all.css')

    script!=fontLoader

    noscript
      style.
        .js-only{display:none !important}

  body#top
    if notLean
      header.ly-header.vw-title
        h1.go-logo-container
          span.go-anchor.gg-container
            include logo
          span.go-text
            a.lk-rainbows(href='/') ponyfoo.com
        nav.hn-navigation
          ul.hn-list
            li.hn-item
              a.hn-link.lk-rainbows(href='/', aria-label='Your planet needs you') Articles
            li.hn-item
              a.hn-link.lk-rainbows(href='/weekly', aria-label='Get our weekly email newsletter!')
                span.hn-new Weekly
            li.hn-item
              a.hn-link.lk-rainbows(href='/books', aria-label='Find books I’ve written and books that I’m currently writing') Books
            li.hn-item
              a.hn-link.lk-rainbows(href='/speaking', aria-label='Find talk videos, slides, and upcoming speaking engagements') Speaking
            li.hn-item
              a.hn-link.lk-rainbows(href='/opensource', aria-label='Learn about my contributions to the open-source community') Open-Source

      include navigation

      if model.flash
        include ../../shared/partials/flash

    main.ly-main!=partial

    if notLean
      footer.fn-footer.ly-footer
        a.fn-link.lk-rainbows(data-email='mailto:hello@ponyfoo.com', aria-label='Reach out to us!') Contact
        span=' '
        a.fn-link.lk-rainbows(href='/about', aria-label='Learn more about Pony Foo') About
        span=' '
        a.fn-link.lk-rainbows(href='/articles/history', aria-label='Pony Foo has been online for a while!') History
        span=' '
        a.fn-link.lk-rainbows(href='/contributors/join-us', aria-label='Join the team at Pony Foo')
          span.hn-new Write With Us
        span=' '
        a.fn-link.lk-rainbows(href='/weekly/sponsor', aria-label='Learn about our sponsorship opportunities and advertise with us!') Advertise
        span=' '
        a.fn-link.lk-rainbows(href='/subscribe', aria-label='Subscribe to our mailing list') Subscribe
        span=' '
        a.fn-link.lk-rainbows(href=rss, aria-label='Track the RSS feed and be the first to learn about freshly published content', target='_blank') RSS
        span=' '
        a.fn-link.lk-rainbows(href='/license') License
        span=' '
        a.fn-link.lk-rainbows(href='/privacy') Privacy

      script!=javascriptLoader
